<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!-- font awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- google font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
  <!--DailyUi and talwind css-->
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: 'rgb(255,255,255)',
            secondary: 'rgba(255,255,255,50%)',
            buttonP: 'rgb(171,239,93)',
            buttonS: 'rgba(171,239,93,50%)',
            primaryBlack:'rgb(24,24,24)',
            card1: 'rgb(230, 193, 211)',
            card2: 'rgb(240, 218, 110)',
            card3: 'rgb(160, 218, 190)',
            card4: 'rgb(120, 170, 230)',
            footerDesc: 'rgb(115, 115, 115)',
            golden:'rgb(255, 215, 0)',
          },
          fontFamily: {
            lexend: ['Lexend','sans-serif'],
          },
        },
      },
    };
  </script>
</head>
<body id="body" class="font-lexend bg-base-100 m-0 p-0">
  <div class="lg:w-10/12 mx-auto">
    <header class="sticky top-0 z-10 bg-white bg-opacity-60 backdrop:blur-2xl p-2">
      <div class="navbar">
        <div class="navbar-start">
          <button id="blog" class="btn bg-buttonP">Blog</button>
        </div>
        <div class="navbar-center">
          <a class="btn btn-ghost text-xl">
            <img src="./assets/logo.png" alt="Logo">
            <p class="font-semibold text-xl">Donate Bangladesh</p>
          </a>
        </div>
        <div class="navbar-end text-sm lg:text-xl">
          <i class="fa-solid fa-circle-dollar-to-slot text-golden lg:m-5"></i>
          <span id="budget"class="lg:mr-2">100000</span>
          <span>BDT</span>
        </div>
      </div>
      <section class="text-center m-5 ">
        <button id="donation"class="btn bg-buttonP active:bg-buttonP disabled:bg-ghost">Donation</button>
        <button id="history"class="btn active:bg-buttonP">History</button>
      </section>
    </header>
    <main>
      <!-- donation part -->
      <section id="donation-part" class="bg-primary rounded-full p-3 grid grid-cols-1 gap-5">
        <div class="card card-side bg-base-100 shadow-xl flex-col lg:flex-row">
          <figure>
            <img
              src="./assets/feni.png"
              alt="Movie" />
          </figure>
          <div class="card-body max-w-lg">
            <button class="btn btn-md rounded-full btn-active text-sm w-5/12">          
              <i class="fa-solid fa-circle-dollar-to-slot text-golden m-2"></i>
              <span id="dff-num" class="mr-1">5555</span>
              <span>BDT</span>
            </button>
            <h2 class="card-title" id="feni-title">
              Donate for Flood Relief in Feni,Bangladesh
            </h2>
            <p> The recent floods in Feni have devastated local communities, leading to severe disruption and loss. Your generous donation will help provide immediate aid, including food, clean water, and medical supplies, to those affected by this calamity. Together, we can offer crucial support and help rebuild lives in the aftermath of this disaster. Every contribution counts towards making a real difference. Please consider donating today to assist those in urgent need.</p>
            <input id="feni-in" type="number" placeholder="Enter Donation Amount" class="input input-bordered input-md w-full block" />
            <div class="card-actions justify-center">
              <button id="feni-donate" class="btn btn-block bg-buttonP">Donate Now</button>
            </div>
          </div>
        </div>
        <div class="card card-side bg-base-100 shadow-xl flex-col lg:flex-row">
          <figure>
            <img
              src="./assets/noakhali.png"
              alt="Movie" />
          </figure>
          <div class="card-body max-w-lg">
            <button class="btn btn-md rounded-full btn-active text-sm w-5/12">          
              <i class="fa-solid fa-circle-dollar-to-slot text-golden m-2"></i>
              <span id="dfn-num" class="mr-1">5555</span>
              <span>BDT</span>
            </button>
            <h2 class="card-title" id="noakhali-title">Donate for Flood at Noakhali, Bangladesh</h2>
            <p> The recent floods in Noakhali have caused significant damage to homes  infrastructure. Your donation will help provide essential supplies and  to those affected by this disaster. Every contribution, big or small, makes  difference. Please join us in supporting the relief efforts and making a positive impact on the lives of those in need.</p>
            <input id="noakhali-in" type="number" placeholder="Enter Donation Amount" class="input input-bordered input-md w-full block" />
            <div class="card-actions justify-center">
              <button id="noakhali-donate" class="btn btn-block bg-buttonP">Donate Now</button>
            </div>
          </div>
        </div>
        <div class="card card-side bg-base-100 shadow-xl flex-col lg:flex-row">
          <figure>
            <img
              src="./assets/quota-protest.png"
              alt="Movie" />
          </figure>
          <div class="card-body max-w-lg">
            <button class="btn btn-md rounded-full btn-active text-sm w-5/12">          
              <i class="fa-solid fa-circle-dollar-to-slot text-golden m-2"></i>
              <span id="aid-num" class="mr-1">5555</span>
              <span>BDT</span>
            </button>
            <h2 class="card-title" id="quota-title">Aid for Injured in the Quota Movement</h2>
            <p>The recent Quota movement has resulted in numerous injuries and significant hardship for many individuals. Your support is crucial in providing medical assistance, rehabilitation, and necessary supplies to those affected. By contributing, you help ensure that injured individuals receive the care and support they need during this challenging time. Every donation plays a vital role in alleviating their suffering and aiding in their recovery. Please consider making a donation to support these brave individuals in their time of need.</p>
            <input id="quota-in"type="number" placeholder="Enter Donation Amount" class="input input-bordered input-md w-full block" />
            <div class="card-actions justify-center">
              <button id="Quota-donate" class="btn btn-block bg-buttonP">Donate Now</button>
            </div>
          </div>
        </div>
      </section>
      <!-- history part -->
      <section id="history-part" style="display: none;">
        <div style="display: none;">
          <div class="card-body">

          </div>
        </div>
      </section>
      <section id="modal">
        <dialog id="my_modal_2" class="modal">
          <form method="dialog" class="modal-box">
            <h3 class="font-bold text-lg">Donation Successful!</h3>
            <p id="donation-message" class="py-4"></p>
            <div class="modal-action">
              <button class="btn">Close</button>
            </div>
          </form>
        </dialog>
        
      </section>
    </main>
  </div>
  <script src="./JS/index.js"></script>
  <script src="./storehouse.js"></script>
  <script>
     document.getElementById('blog').addEventListener('click', function() {
        window.location.href = 'blog.html';
    });
    // testing function
    // Button Toggle
document.getElementById('history').addEventListener('click',function(){
  hideShow('history');
});
document.getElementById('donation').addEventListener('click',function(){
  hideShow('donation');
});
function hideShow(ID){
  document.getElementById(ID);
  if(ID=='donation'){
    document.getElementById('history-part').style.display='none';
    document.getElementById('donation-part').style.display='block';
    document.getElementById(ID).style.backgroundColor='rgb(171,239,93)';
    document.getElementById('history').style.backgroundColor='rgb(242,242,242)';
  }else{
    document.getElementById('donation-part').style.display='none';
    document.getElementById('history-part').style.display='block';
    document.getElementById(ID).style.backgroundColor='rgb(171,239,93)';
    document.getElementById('donation').style.backgroundColor='rgb(242,242,242)';

  } 
}
// function called
 //  Quota-donate noakhali-donate Feni-donate
 document.getElementById('feni-donate').addEventListener('click',function(){
  donating('feni-donate');
  donoAddToHistory('feni-donate');
})
document.getElementById('noakhali-donate').addEventListener('click',function(){
  donating('noakhali-donate');
  donoAddToHistory('noakhali-donate');
})
document.getElementById('Quota-donate').addEventListener('click',function(){
  donating('Quota-donate');
  donoAddToHistory('Quota-donate');
})
// common function 1
function donating(donatetype) {
  let donation, budget, addedDono, addedDonationtype;
  budget = parseFloat(document.getElementById('budget').innerText);

  if (donatetype === 'feni-donate') {
    donation = parseFloat(document.getElementById('feni-in').value);
    addedDono = parseFloat(document.getElementById('dff-num').innerText);
    addedDonationtype = 'dff-num';
  } else if (donatetype === 'noakhali-donate') {
    donation = parseFloat(document.getElementById('noakhali-in').value);
    addedDono = parseFloat(document.getElementById('dfn-num').innerText);
    addedDonationtype = 'dfn-num';
  } else if (donatetype === 'Quota-donate') {
    donation = parseFloat(document.getElementById('quota-in').value);
    addedDono = parseFloat(document.getElementById('aid-num').innerText);
    addedDonationtype = 'aid-num';
  }

  if (!isNaN(donation) && isFinite(donation) && donation > 0) {
    if (budget > donation) {
      let newBudget = budget - donation;
      document.getElementById('budget').innerText = newBudget;
      addedDono += donation;
      document.getElementById(addedDonationtype).innerText = addedDono;

      // Update the modal content
      const modalMessage = `Your donation of ${donation} BDT has been processed successfully. Thank you!`;
      document.getElementById('donation-message').innerText = modalMessage;

      // Show the modal
      const dialog = document.getElementById('my_modal_2');
      dialog.showModal();

      // Close modal and remove listener after closing it
      dialog.addEventListener('close', function() {
        dialog.close(); // Ensures it's closed properly
      });
    } else {
      alert("You're exceeding your budget. Please check the donation amount.");
    }
  } else {
    alert('Not a valid number');
  }
}

// common function()2:
function donoAddToHistory(donotype){
  let donation,addedDonationtype;
  const history=document.getElementById('history-part');
  const currentDate = new Date().toLocaleDateString();  // Get current date
  const currentTime = new Date().toLocaleTimeString();
  if(donotype=='feni-donate'){
    donation=parseFloat(document.getElementById('feni-in').value);      
    addedDonationtype='dff-num';
    const newCard = `
    <div class="card card-side bg-base-100 shadow-xl m-4">
      <div class="card-body">
        <p>You donated ${donation} BDT to the ${document.getElementById('feni-title').innerText}.</p>
        <p>Date: ${currentDate} Time:${currentTime}</p> 
      </div>
    </div>
  `;
  history.innerHTML+=newCard;
    }
  else if(donotype == 'noakhali-donate' ){
    donation=parseFloat(document.getElementById('noakhali-in').value);
    addedHistorytype='dfn-num';
    const newCard = `
    <div class="card card-side bg-base-100 shadow-xl m-4">
      <div class="card-body">
        <p>You donated ${donation} BDT to the ${document.getElementById('noakhali-title').innerText}.</p>
        <p>Date: ${currentDate} Time:${currentTime}
        </p> 
      </div>
    </div>
  `;
  history.innerHTML+=newCard;
    }
  else if(donotype =='Quota-donate'){
    donation=parseFloat(document.getElementById('quota-in').value);
    addedDono=parseFloat(document.getElementById('aid-num').innerText)   ;
    addedDonationtype='aid-num';
    const newCard = `
    <div class="card card-side bg-base-100 shadow-xl m-4">
      <div class="card-body">
        <p>You donated ${donation} BDT to the ${document.getElementById('quota-title').innerText}</p>
        <p>Date: ${currentDate} Time:${currentTime}</p> <!-- Optionally add date -->
      </div>
    </div>
  `;
  history.innerHTML+=newCard;
  }
}
// finished
</script>
</body>
</html>